@page
@model App.Presentation.Pages.CategoryAgg.IndexModel

@{
    ViewData["Title"] = "مدیریت دسته‌بندی‌ها";
}

<div class="container mt-4">

    <h2 class="mb-4 text-primary">مدیریت دسته‌بندی‌ها</h2>

    <a asp-page="/CategoryAgg/Create"  class="btn btn-success mb-3">
        + ایجاد دسته‌بندی جدید
    </a>

    <table class="table table-striped table-bordered align-middle text-center">
        <thead class="table-dark">
            <tr>
                <th style="width: 80px;">ردیف</th>
                <th>عنوان</th>
                <th>توضیحات</th>
                <th style="width: 200px;">عملیات</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Categories != null && Model.Categories.Count > 0)
            {
                int row = 1;
                foreach (var item in Model.Categories)
                {
                    <tr>
                        <td>@row</td>
                        <td>@item.Title</td>
                        <td>@item.Description</td>

                        <td>
                            <a asp-page="/CategoryAgg/Edit" asp-route-id="@item.Id"
                               class="btn btn-warning btn-sm">ویرایش</a>
                            <a asp-page="/CategoryAgg/Delete" asp-route-id="@item.Id"
                               class="btn btn-danger btn-sm">حذف</a>

                         @*    <form method="post" asp-page-handler="DeleteCategory" asp-route-id="@item.Id"
                                  class="d-inline"
                                  onsubmit="return confirm('آیا از حذف این دسته‌بندی مطمئن هستید؟');">
                                <button class="btn btn-danger btn-sm">حذف</button>
                            </form> *@
                        </td>
                    </tr>

                    row++;
                }
            }
            else
            {
                <tr>
                    <td colspan="4" class="text-muted">هیچ دسته‌بندی وجود ندارد.</td>
                </tr>
            }
        </tbody>
    </table>
    <div asp-validation-summary="All"></div>
</div>
<hr />
<div class="form-group mt-3">
    <a class="btn btn-primary mt-10" asp-page="/Writer/Profile">بازگشت به پروفایل</a>
</div>